#test
AppendCertsFromPEM()

func main() {
    caCert, err := ioutil.ReadFile("rootCA.crt")
    if err != nil {
        log.Fatal(err)
    }
    caCertPool := x509.NewCertPool() <------ should be enough to use cloned pool by SystemCertPool
    caCertPool.AppendCertsFromPEM(caCert)

    client := &http.Client{
        Transport: &http.Transport{
            TLSClientConfig: &tls.Config{
                RootCAs:      caCertPool,
            },
        },
    }

    _, err := client.Get("https://secure.domain.com")
    if err != nil {
        panic(err)
    }
}

x509  SystemCertPool Â¶get certificate system pool, if possible copy it to the new pool, than add custom certificate


package main

import (
    "net/http"
    "log"
)

var client *http.Client

func init() {
    transport := &http.Transport{
        MaxIdleConns:        100,
        MaxIdleConnsPerHost: 10,
    }
    client = &http.Client{Transport: transport}
}

func handler(w http.ResponseWriter, r *http.Request) {
    resp, err := client.Get("http://example.com")
    if err != nil {
        http.Error(w, "Failed to fetch data", http.StatusInternalServerError)
        return
    }
    defer resp.Body.Close()
    // Process response...
}

func main() {
    http.HandleFunc("/", handler)
    log.Fatal(http.ListenAndServe(":8080", nil))
}
